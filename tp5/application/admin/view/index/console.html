<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="/assets/css/layui.css">
    <link rel="stylesheet" href="/assets/css/view.css"/>
    <title>控制台</title>
</head>
<body class="layui-view-body">
    <div class="layui-content">
        <div class="layui-row layui-col-space20">
            <div class="layui-col-sm6 layui-col-md3">
                <div class="layui-card">
                    <div class="layui-card-body chart-card">
                        <div class="chart-header">
                            <div class="metawrap">
                                <div class="meta">
                                    <span>总用户数</span>
                                </div>
                                <div class="total">{$retrun_num['user_num']}</div>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div class="contentwrap">
                                人次
                            </div>
                        </div>
                        <div class="chart-footer">
                            <div class="field">
                                <span>日注册量</span>
                                <span>{$retrun_num['tody_userNum']}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-sm6 layui-col-md3">
                <div class="layui-card">
                    <div class="layui-card-body chart-card">
                        <div class="chart-header">
                            <div class="metawrap">
                                <div class="meta">
                                    <span>总书籍数</span>
                                </div>
                                <div class="total">{$retrun_num['book_list_num']}</div>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div class="contentwrap">
                                本数
                            </div>
                        </div>
                        <div class="chart-footer">
                            <div class="field">
                                <span>日注新增</span>
                                <span>{$retrun_num['tody_book_num']}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-sm6 layui-col-md3">
                <div class="layui-card">
                    <div class="layui-card-body chart-card">
                        <div class="chart-header">
                            <div class="metawrap">
                                <div class="meta">
                                    <span>总订单数</span>
                                </div>
                                <div class="total">126,560</div>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div class="contentwrap">
                                fsdfdsf
                            </div>
                        </div>
                        <div class="chart-footer">
                            <div class="field">
                                <span>日注册量</span>
                                <span>321</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-sm6 layui-col-md3">
                <div class="layui-card">
                    <div class="layui-card-body chart-card">
                        <div class="chart-header">
                            <div class="metawrap">
                                <div class="meta">
                                    <span>总用公告数</span>
                                </div>
                                <div class="total">{$retrun_num['news_list_num']}</div>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div class="contentwrap">
                                条次
                            </div>
                        </div>
                        <div class="chart-footer">
                            <div class="field">
                                <span>日新增量</span>
                                <span>{$retrun_num['tody_News_num']}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-sm12 layui-col-md12">
                <div class="layui-card">
                    <div class="layui-tab layui-tab-brief">
                        <ul class="layui-tab-title">
                            <li class="layui-this">新增数</li>
                            <li>活跃度</li>
                        </ul>
                        <div class="layui-tab-content">
                            <div class="layui-tab-item layui-show">
                                <div class="layui-btn-container">

                                    <div class="layui-row layui-col-space15">
                                        <div class="layui-col-md6">
                                          <div class="layui-panel">
                                            <div id="EchartZhu" style="width: 500px;height: 500px;"> </div> 
                                          </div>   
                                        </div>
                                        <div class="layui-col-md6">
                                          <div class="layui-panel">
                                            <div id="EchartSeire" style="width: 500px;height: 500px;"> </div>
                                          </div>   
                                        </div>
                                    </div>   
                                </div>
                            </div>
                            <div class="layui-tab-item">
                                <div id="EchartZhu2" style="width: 500px;height: 500px;"> </div> 
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="/assets/layui.all.js"></script>
    <script src="/js/echarts.min.js"></script>
    <script>
        var myChart = echarts.init(document.getElementById('EchartZhu'),'light');
        var myChart2 = echarts.init(document.getElementById('EchartZhu2'),'light');
        var myChart3 = echarts.init(document.getElementById('EchartSeire'),'light');
        // 绘制图表
        option = {
            title: {
                text: '新增数',
                subtext: '近7日数据',
                left: 'center'
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [
                {
                    type: 'category',
                    data: ["{$retrun_num['seven_date'][1]}","{$retrun_num['seven_date'][2]}","{$retrun_num['seven_date'][3]}","{$retrun_num['seven_date'][4]}","{$retrun_num['seven_date'][5]}"
                    ,"{$retrun_num['seven_date'][6]}","{$retrun_num['seven_date'][7]}"
                ],
                    axisTick: {
                        alignWithLabel: true
                    }
                }
            ],
            yAxis: [
                {
                    type: 'value'
                }
            ],
            series: [
                {
                    name: '直接访问',
                    type: 'bar',
                    barWidth: '60%',
                    data: ["{$retrun_num['seven_day_data'][0]}", "{$retrun_num['seven_day_data'][1]}",
                    "{$retrun_num['seven_day_data'][2]}", "{$retrun_num['seven_day_data'][3]}",
                    "{$retrun_num['seven_day_data'][4]}", "{$retrun_num['seven_day_data'][5]}",
                    "{$retrun_num['seven_day_data'][6]}"]
                }
            ]
        };
        option3 = {
            title: {
                text: '人员占比',
                subtext: '',
                left: 'center'
            },
            tooltip: {
                trigger: 'item'
            },
            legend: {
                orient: 'vertical',
                left: 'left',
            },
            series: [
                {
                    name: '注册人数',
                    type: 'pie',
                    radius: '50%',
                    data: [
                        {value: "{$retrun_num['pie_data'][0]}", name: '超级管理'},
                        {value: "{$retrun_num['pie_data'][1]}", name: '管理员'},
                        {value: "{$retrun_num['pie_data'][2]}", name: '教师'},
                        {value: "{$retrun_num['pie_data'][3]}", name: '学生'}
                    ],
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
        };
        myChart.setOption(option);
        myChart2.setOption(option);
        myChart3.setOption(option3);
    </script>
</body>
</html>